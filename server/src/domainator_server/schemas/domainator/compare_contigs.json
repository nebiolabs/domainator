{
  "id": "compare_contigs",
  "display_name": "Compare Contigs",
  "category": "Domainator",
  "description": "Calculates similarity metrics for gene neighborhoods\n\nTakes a genbank file annotated with domainator and calculates similarities between contigs and writes reports.\n\nji, ai, and dss metrics are similar to and inspired by the metrics used in the BigScape method:\nNavarro-Mu\u00f1oz, Jorge C., Nelly Selem-Mojica, Michael W. Mullowney, Satria A. Kautsar, James H. Tryon, Elizabeth I. Parkinson, Emmanuel L. C. De Los Santos, et al. \"A Computational Framework to Explore Large-Scale Biosynthetic Diversity from Large-Scale Genomic Data.\" Nature Chemical Biology 16, no. 1 (January 2020): 60\u201368. https://doi.org/10.1038/s41589-019-0400-9.",
  "runner": "module",
  "entry_point": "domainator.compare_contigs",
  "parameters": [
    {
      "name": "Input",
      "parameter": "input",
      "help": "Genbank filenames.",
      "type": "file",
      "multiple": true,
      "flags": [
        "-i",
        "--input"
      ],
      "file_types": [
        "gb",
        "gbk",
        "genbank",
        "gbff"
      ]
    },
    {
      "name": "Output",
      "parameter": "output",
      "help": "Name of genbank output, contigs will be sorted hierarchically within the output genbank. If not supplied then no genbank output will be generated. To write to stdout, use '-'. default: None",
      "type": "output",
      "flags": [
        "-o",
        "--output"
      ]
    },
    {
      "name": "Ji",
      "parameter": "ji",
      "help": "weighting for jaccard index metric, a comparison of all distinct types of domains in the contigs. When two contigs have no domains, their ji is 1.0.",
      "type": "string",
      "default": 0.5,
      "flags": [
        "--ji"
      ]
    },
    {
      "name": "Ai",
      "parameter": "ai",
      "help": "weighting for adjacency index metric, a comparison of shared domain pairs in the contigs. When two contigs have 0 or 1 domains, their ai is 1.0.",
      "type": "string",
      "default": 0.5,
      "flags": [
        "--ai"
      ]
    },
    {
      "name": "Databases",
      "parameter": "databases",
      "help": "Domain databases to use for domain content comparison. default: all databases.",
      "type": "str",
      "multiple": true,
      "flags": [
        "--databases"
      ]
    },
    {
      "name": "Sparse",
      "parameter": "sparse",
      "help": "Write a sparse distance matrix hdf5 file to this path.",
      "type": "output",
      "flags": [
        "--sparse"
      ]
    },
    {
      "name": "Dense Text",
      "parameter": "dense_text",
      "help": "Write a dense distance matrix tsv file to this path.",
      "type": "output",
      "flags": [
        "--dense_text"
      ]
    }
  ],
  "advanced_parameters": [
    {
      "name": "Contigs",
      "parameter": "contigs",
      "help": "only annotate contigs with ids in this list. Additive with --contigs_file. default: all contigs.",
      "type": "string",
      "multiple": true,
      "default": [],
      "flags": [
        "--contigs"
      ]
    },
    {
      "name": "Contigs File",
      "parameter": "contigs_file",
      "help": "only annotate contigs with ids listed in this file (one per line). Additive with --contigs. default: all contigs.",
      "type": "file",
      "flags": [
        "--contigs_file"
      ]
    },
    {
      "name": "Name By Order",
      "parameter": "name_by_order",
      "help": "Will rename contigs in the genbank file such that they have a prefix that can be sorted to restore the sorted order.",
      "type": "boolean",
      "default": false,
      "flags": [
        "--name_by_order"
      ]
    },
    {
      "name": "K",
      "parameter": "k",
      "help": "for each metric, return scores for this many of the top hits, and consider all other hits to be zero. default: count all comparisons.",
      "type": "integer",
      "flags": [
        "-k"
      ]
    },
    {
      "name": "Dense",
      "parameter": "dense",
      "help": "Write a dense distance matrix hdf5 file to this path.",
      "type": "output",
      "flags": [
        "--dense"
      ]
    }
  ]
}
